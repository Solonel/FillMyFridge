<lsc-front-menu></lsc-front-menu>

<form [formGroup]="shoppingListForm">
  <ul class="list-group">
    <li class="list-group-item" formGroupName="newConfig">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <div class="input-group input-group-sm mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="nbPers">Nombre de personne</span>
              </div>
              <input type="number" min="0" class="form-control" aria-label="Nombre de personne" formControlName="nbPers" attr.aria-describedby="nbPers">
            </div>
          </div>
          <div class="col-md-4">
            <div class="input-group input-group-sm mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="category">Catégorie</span>
              </div>
              <input type="text" class="form-control" aria-label="Catégorie" formControlName="category" attr.aria-describedby="category">
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-group input-group-sm mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="nbMeal">Nombre de repas</span>
              </div>
              <input type="number" min="0" class="form-control" aria-label="Nombre de repas" formControlName="nbMeal" attr.aria-describedby="nbMeal">
            </div>
          </div>
          <div class="col-md-2">
            <button class="btn btn-primary" type="button" (click)="addConfiguration()">Ajouter</button>
          </div>
        </div>
      </div>
    </li>

    <div formArrayName="configs">
      <li class="list-group-item" *ngFor="let config of configs.controls; let i=index" [formGroupName]="i">
        <div class="container">
          <div class="row">
            <div class="col-md-3">
              <div class="input-group input-group-sm mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="nbPers{{i}}">Nombre de personne</span>
                </div>
                <input type="number" min="0" class="form-control" aria-label="Nombre de personne" formControlName="nbPers" attr.aria-describedby="nbPers{{i}}"
                  disabled>
              </div>
            </div>
            <div class="col-md-4">
              <div class="input-group input-group-sm mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="category{{i}}">Catégorie</span>
                </div>
                <input type="text" class="form-control" aria-label="Catégorie" formControlName="category" attr.aria-describedby="category{{i}}"
                  disabled>
              </div>
            </div>
            <div class="col-md-3">
              <div class="input-group input-group-sm mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="nbMeal{{i}}">Nombre de repas</span>
                </div>
                <input type="number" min="0" class="form-control" aria-label="Nombre de repas" formControlName="nbMeal" attr.aria-describedby="nbMeal{{i}}"
                  disabled>
              </div>
            </div>
            <div class="col-md-2">
              <div *ngIf="!rowIsInEdit[i]">
                <button class="btn btn-primary" type="button" (click)="editMode(i)">Editer</button>
              </div>
              <div *ngIf="rowIsInEdit[i]">
                <button class="btn btn-primary" type="button" (click)="editConfiguration(i)">Valider</button>
              </div>
            </div>
          </div>
        </div>
      </li>
    </div>
  </ul>
  <button class="btn btn-primary" type="button" (click)="generateList(shoppingListForm.value)">Prépare ma liste</button>
</form>




<!-- 

<div>
  <div>
    <label for="nbPers">Nombre de personnes</label>
    <input type="number" id="nbPers" class="form-control" placeholder="Nombre de personnes">
  </div>
  <div class="form-group">
    <label for="cat">Example select</label>
    <select class="form-control" id="cat">
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
    </select>
  </div>
  <div>
    <label for="nbMeal">Nombre de repas</label>
    <input type="number" id="nbMeal" class="form-control" placeholder="Nombre de repas">
  </div>
</div> -->